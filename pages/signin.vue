<script setup lang="ts">
const user = useSupabaseUser()
const { auth } = useSupabaseClient()

const redirectTo = `/confirm`

watchEffect(() => {
  if (user.value) {
    navigateTo('/')
  }
})
</script>

<template>
  <div class="min-h-full flex flex-col justify-center py-12 sm:px-6 lg:px-8">
    <svg width="439.2" height="227.516060358357" viewBox="0 0 350 181.3083358957763" class="looka-1j8o68f">
      <defs id="SvgjsDefs1011"></defs>
      <g id="SvgjsG1012" featurekey="nameFeature-0"
        transform="matrix(2.558093420997163,0,0,2.558093420997163,-8.194340653528542,-24.58123008320361)" fill="#f2f4f7">
        <path
          d="M15.84 11.289000000000001 c5.8789 0 9.4727 4.3164 9.4727 9.5898 c0 5.4102 -3.5938 9.3945 -9.4727 9.3945 l-5.1953 0 l0 9.7266 l-7.4414 0 l0 -28.711 l12.637 0 z M14.551 24.121000000000002 c2.6563 0 3.6914 -1.25 3.6914 -3.3594 c0 -1.9922 -1.0352 -3.3203 -3.6914 -3.3203 l-3.9063 0 l0 6.6797 l3.9063 0 z M34.55471875 22.422 c1.0742 -1.6406 3.8477 -3.3398 6.875 -3.3398 l0 6.2305 c-4.5898 0 -6.4648 1.0156 -6.4648 5.2148 l0 9.4727 l-7.207 0 l0 -20.684 l6.7969 0 l0 3.1055 z M53.48446875 40.39063 c-6.9922 0 -11.875 -3.9063 -11.875 -10.742 c0 -6.8164 4.8438 -10.723 11.875 -10.723 c7.0898 0 11.934 3.9063 11.934 10.723 c0 6.8359 -4.8828 10.742 -11.934 10.742 z M53.40646875 34.8437 c3.0469 0 4.9219 -2.1289 4.9219 -5.1953 c0 -3.0859 -1.875 -5.2148 -4.9219 -5.2148 c-2.8711 0 -4.707 2.1289 -4.707 5.2148 c0 3.0664 1.8359 5.1953 4.707 5.1953 z M71.5351875 17.324 c-2.168 0 -3.9258 -1.7188 -3.9258 -3.8867 c0 -2.1094 1.7578 -3.8281 3.9258 -3.8281 c2.0703 0 3.8281 1.7188 3.8281 3.8281 c0 2.168 -1.7578 3.8867 -3.8281 3.8867 z M63.9765875 49.7266 l0 -5.4492 c3.3984 0 3.8867 -1.6406 3.8867 -5.2344 l0 -19.727 l7.2461 0 l0 19.727 c0 6.9922 -3.1641 10.684 -11.133 10.684 z M99.50778125 29.433999999999997 l-0.078125 1.6406 l-14.766 0 c0.29297 2.5781 2.1484 3.8086 4.4141 3.8086 c1.7578 0 3.0469 -0.68359 3.6328 -2.207 l6.5625 0.83984 c-1.2695 4.4531 -5.1953 6.875 -10.156 6.875 c-7.1289 0 -11.523 -3.9063 -11.523 -10.703 c0 -6.8555 4.5703 -10.801 11.289 -10.801 c6.0352 0 10.586 3.1055 10.625 10.547 z M88.92178125 23.809 c-2.1484 0 -3.5352 0.78125 -4.0625 2.7539 l7.6563 0 c-0.39063 -1.8164 -1.7969 -2.7539 -3.5938 -2.7539 z M110.4883125 40 c-4.3945 0 -6.7969 -2.5195 -6.7969 -6.9531 l0 -8.3203 l-3.9648 0 l0 -5.4102 l1.1719 0 c2.1875 0 3.6719 -0.80078 3.6719 -4.3945 l0 -2.1289 l6.3672 0 l0 6.5234 l3.9453 0 l0 5.4102 l-3.9453 0 l0 7.5195 c0 1.7578 0.70313 2.4414 2.1094 2.4414 l1.8359 0 l0 5.3125 l-4.3945 0 z M128.0899375 40.39063 c-6.9922 0 -11.875 -3.9063 -11.875 -10.742 c0 -6.8164 4.8438 -10.723 11.875 -10.723 c7.0898 0 11.934 3.9063 11.934 10.723 c0 6.8359 -4.8828 10.742 -11.934 10.742 z M128.0119375 34.8437 c3.0469 0 4.9219 -2.1289 4.9219 -5.1953 c0 -3.0859 -1.875 -5.2148 -4.9219 -5.2148 c-2.8711 0 -4.707 2.1289 -4.707 5.2148 c0 3.0664 1.8359 5.1953 4.707 5.1953 z">
        </path>
      </g>
      <g id="SvgjsG1013" featurekey="sloganFeature-0"
        transform="matrix(3.9832259319312606,0,0,3.9832259319312606,-1.8669377238287228,100.90504602908372)"
        fill="#f2f4f7">
        <path
          d="M9.6777 6.074 l0 2.0801 l-3.4375 0 l0 11.846 l-2.3242 0 l0 -11.846 l-3.4473 0 l0 -2.0801 l9.209 0 z M23.4467578125 10.1758 l2.3438 0 l-3.418 9.834 l-2.0605 0 l-2.4707 -7.0215 l-2.4707 7.0215 l-2.0898 0 l-3.3496 -9.834 l2.3242 0 l2.2266 6.9531 l2.4805 -6.9531 l1.7383 0 l2.4805 6.9434 z M28.2987875 8.301 c-0.76172 0 -1.3867 -0.625 -1.3867 -1.377 c0 -0.76172 0.625 -1.377 1.3867 -1.377 c0.74219 0 1.377 0.61523 1.377 1.377 c0 0.75195 -0.63477 1.377 -1.377 1.377 z M27.1464875 20 l0 -9.8242 l2.2559 0 l0 9.8242 l-2.2559 0 z M35.5146140625 20 c-1.7578 0 -2.8125 -1.0352 -2.8125 -2.8711 l0 -5.1953 l-1.9629 0 l0 -1.7578 l0.67383 0 c1.0352 0 1.5137 -0.41016 1.5137 -1.6895 l0 -1.5234 l2.0508 0 l0 3.2129 l2.1387 0 l0 1.7578 l-2.1387 0 l0 4.9609 c0 0.91797 0.49805 1.3672 1.25 1.3672 l0.88867 0 l0 1.7383 l-1.6016 0 z M42.359340625 20 c-1.7578 0 -2.8125 -1.0352 -2.8125 -2.8711 l0 -5.1953 l-1.9629 0 l0 -1.7578 l0.67383 0 c1.0352 0 1.5137 -0.41016 1.5137 -1.6895 l0 -1.5234 l2.0508 0 l0 3.2129 l2.1387 0 l0 1.7578 l-2.1387 0 l0 4.9609 c0 0.91797 0.49805 1.3672 1.25 1.3672 l0.88867 0 l0 1.7383 l-1.6016 0 z M54.721867187499996 14.9219 l-0.029297 0.56641 l-7.4707 0 c0.087891 1.9531 1.3477 2.8906 2.8418 2.8906 c1.0938 0 1.9824 -0.55664 2.4316 -1.543 l2.0508 0.35156 c-0.68359 1.8945 -2.3828 2.998 -4.4629 2.998 c-3.0176 0 -5.0684 -1.875 -5.0684 -5.0977 s2.0996 -5.1074 5 -5.1074 c2.7051 0 4.6973 1.582 4.707 4.9414 z M50.0243671875 11.6504 c-1.377 0 -2.3926 0.66406 -2.7051 2.1582 l5.1465 0 c-0.17578 -1.4551 -1.1426 -2.1582 -2.4414 -2.1582 z M58.812534375 11.8262 c0.47852 -0.97656 1.7383 -1.748 3.1641 -1.7578 l0 2.0508 c-2.002 0 -3.0762 0.73242 -3.0762 2.8711 l0 5.0098 l-2.2559 0 l0 -9.8242 l2.168 0 l0 1.6504 z">
        </path>
      </g>
    </svg>

    <LoginCard class="flex gap-2 mt-10">
      <Button class="mt-3 gap-3 items-center"
        @click="auth.signInWithOAuth({ provider: 'google', options: { redirectTo } })">
        <Icon name="logos:google-icon" size="20" /> Entrar com Google
      </Button>
      <Button class="mt-3 gap-3 items-center"
        @click="auth.signInWithOAuth({ provider: 'github', options: { redirectTo } })">
        <Icon name="logos:github-icon" size="20" /> Entrar com Github
      </Button>
    </LoginCard>
  </div>
</template>